# conan-configuration
Stores Conan configuration which is common to all our build images.

The configuration from this repository can be installed using the `conan config install` command, see
https://docs.conan.io/en/latest/reference/commands/consumer/config.html#conan-config-install

```
conan config install http://github.com/ess-dmsc/conan-configuration.git
```

**Beware, installing this configuration will delete any other other remotes you may have configured.**

To use packages from the Bincrafters repository, run the following command:

```
conan config set general.revisions_enabled=True
```

This is not necessary for conan2, but the packages are built with conan recipes in v1 format, and so `pip install conan<2` (or similar) must be used

The important things done by installing this configuration are:
- setting the remotes to the ones we use in our projects
- adding the compiler.libc setting for gcc and clang, so that packages can be built against glibc or musl, this is useful for builds on Alpine Linux where musl is used.

Conan2 uses remotes.json and completely ignores remotes.txt, as per https://docs.conan.io/1/migrating_to_2.0/config_files.html#remotes-txt and conan v1 will already use this if present

If you update `settings.yml` using one automatically generated by Conan then make sure you retain this change:
```yml
compiler:
  ...
  gcc:
    ...
    libc: [None, glibc, musl]
  clang:
    ..
    libc: [None, glibc, musl]
```
